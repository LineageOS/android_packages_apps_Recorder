{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "73b2807d_0465d694",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 97,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:49:05Z",
      "side": 1,
      "message": "it\u0027s safe to assume we\u0027ll have only one register and one unregister, but wouldn\u0027t it be safer to count them?\nYou could use a ConcurrentHashMap to help you with that stores the object with an AtomicInteger, then in MSG_REGISTER_CLIENT you would enforce the client is registered once  and increase the counter ( you can use computeIfAbsent to help you with that ), later in unregister you would enforce the counter is set to 1, and remove the object",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 97,
        "endChar": 41
      },
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "390aacd4_672096c5",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 97,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:50:47Z",
      "side": 1,
      "message": "Actually using computeIfAbsent would be enough, just use computeIfAbsent to add the client only if it doesn\u0027t exist, that would ensure that later on we\u0027ll have exactly one of them.",
      "parentUuid": "73b2807d_0465d694",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 97,
        "endChar": 41
      },
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49833104_e9b8b561",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 153,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:49:05Z",
      "side": 1,
      "message": "shouldn\u0027t we notify the clients that they were removed?",
      "range": {
        "startLine": 153,
        "startChar": 0,
        "endLine": 153,
        "endChar": 25
      },
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e8bc90d_841e09ed",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 162,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:49:05Z",
      "side": 1,
      "message": "can drop the else statement entirely",
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ca7dfa4_cdc7a1e0",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 219,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:49:05Z",
      "side": 1,
      "message": "can drop else",
      "range": {
        "startLine": 219,
        "startChar": 0,
        "endLine": 219,
        "endChar": 16
      },
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2dc7051_16778af6",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 263,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:49:05Z",
      "side": 1,
      "message": "simply return false here and remove them in the other statements",
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b28d332_c57ee138",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 285,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:49:05Z",
      "side": 1,
      "message": "ditto ^",
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6c79e4b_8dd83394",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 290,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:49:05Z",
      "side": 1,
      "message": "We should move to stopForeground(STOP_FOREGROUND_REMOVE)",
      "range": {
        "startLine": 290,
        "startChar": 0,
        "endLine": 290,
        "endChar": 29
      },
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b59e368_e747c949",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 300,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:49:05Z",
      "side": 1,
      "message": "ditto ^",
      "range": {
        "startLine": 300,
        "startChar": 8,
        "endLine": 300,
        "endChar": 29
      },
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a507e4e_066d02df",
        "filename": "app/src/main/java/org/lineageos/recorder/service/SoundRecorderService.java",
        "patchSetId": 4
      },
      "lineNbr": 404,
      "author": {
        "id": 11883
      },
      "writtenOn": "2022-04-15T08:08:09Z",
      "side": 1,
      "message": "can use obtainMessage directly",
      "revId": "13517a622592cf2ef4aaa2fbcd5007267c08caf3",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    }
  ]
}